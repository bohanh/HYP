import{_ as C}from"./D4wNDW35.js";import{c as D,a as E,b as R,u as g}from"./8LoIDUsV.js";import{H as F}from"./BYQVoJgj.js";import{b as G}from"./C6e5OZiz.js";import{n as M,D as T,u as v,o as _,c as h,b,a as o,F as x,q as k,v as i,t as l,w as j,d as P,E as V,p as Y,e as q,_ as A}from"./D-PrFV3t.js";const I=u=>(Y("data-v-7b1a03a0"),u=u(),q(),u),L={class:"project-container"},z={class:"breadcrumbs"},K={class:"breadcrumb"},Q=I(()=>o("p",{style:{margin:"0","margin-inline":"5px"}}," > ",-1)),U={style:{margin:"0"}},W={id:"project-texts"},X={style:{color:"var(--header-button-color)"}},Z={style:{"font-size":"80%","text-align":"right"}},ee={id:"leader"},te={id:"leader-left"},oe=["src","alt"],se={style:{"text-align":"center"}},ae={style:{width:"70%","min-width":"400px"}},re={id:"more"},ie=I(()=>o("h2",{style:{color:"var(--header-button-color)","text-decoration":"none"}},"MORE PROJECTS",-1)),ne={id:"projects"},ce={class:"violet-text"},le=["src","alt"],de=M({__name:"[id]",async setup(u){let r,d;const m=T().params.id,p=G(),S="/projects/"+m;S!==p.value[p.value.length-1]&&p.value.push(S);let{data:N}=([r,d]=v(()=>g("/api/people","$KgGOI3QGxW")),r=await r,d(),r),{data:O}=([r,d]=v(()=>g("/api/projects","$ebG6aysTeJ")),r=await r,d(),r),{data:$}=([r,d]=v(()=>g("/api/services","$rvSa1vPDUq")),r=await r,d(),r);const y=D(JSON.parse(N.value.people)),n=E(JSON.parse(O.value.projects)),H=R(JSON.parse($.value.services));let c;for(let s of n)s.id.toString()===m&&(c=s);let f;for(let s of y)s.id===c.leader&&(f=s);const J=`background-image: url('/HYP/contents/projects/${m}.jpg');')`;function w(s){let e=s.split(" ");if(e.length>1)switch(e[0]){case"people":for(let t of y)if(t.id.toString()===e[1])return t.name;break;case"projects":for(let t of n)if(t.id.toString()===e[1])return t.name;break;case"services":for(let t of H)if(t.id.toString()===e[1])return t.name}return s}function B(){let s;if(n.length<4)s=n;else{let e=Array.from({length:n.length},(t,a)=>a);for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}s=[n[e[0]],n[e[1]],n[e[2]],n[e[3]]]}for(let e in s)s[e].id.toString()===c.id.toString()&&s.splice(parseInt(e,10),1);return s.slice(0,3)}return(s,e)=>{const t=C;return _(),h(x,null,[b(F),o("div",L,[o("div",z,[(_(!0),h(x,null,k(i(p).slice(0,-1),a=>(_(),h("div",K,[b(t,{to:a,style:{margin:"0","text-decoration":"underline",color:"#999999"},tabindex:"0"},{default:j(()=>[P(l(w(a.replace(/^\/|\/$/g,"").replace(/\//g," "))),1)]),_:2},1032,["to"]),Q]))),256)),o("p",U,l(w(i(p).at(-1).replace(/^\/|\/$/g,"").replace(/\//g," "))),1)]),o("div",{id:"project",style:J},[o("div",W,[o("h1",X,l(i(c).name),1),o("h2",Z,l(i(c).description),1)])]),o("div",ee,[o("div",te,[o("img",{id:"leader-image",src:"/HYP/contents/people/"+i(c).leader+".jpg",alt:"photo of the leader of project "+i(c).name+", "+i(f).name},null,8,oe),o("h2",se,l(i(f).name),1),b(t,{to:"/people/"+i(c).leader,class:"read-more",tabindex:"0"},{default:j(()=>[P("Read more")]),_:1},8,["to"])]),o("p",ae,l(i(c).longDes),1)]),o("div",re,[ie,o("div",ne,[(_(!0),h(x,null,k(B(),a=>(_(),V(t,{key:a.id,class:"project-card",to:"/projects/"+a.id,tabindex:"0"},{default:j(()=>[o("h3",ce,l(a.name),1),o("p",null,l(a.description),1),o("img",{class:"project-thumb",src:"/HYP/contents/projects/"+a.id+".jpg",alt:"Photo of "+a.name},null,8,le)]),_:2},1032,["to"]))),128))])])])],64)}}}),fe=A(de,[["__scopeId","data-v-7b1a03a0"]]);export{fe as default};
