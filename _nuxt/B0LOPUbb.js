import{_ as G}from"./Dz6yXrXo.js";import{c as H,a as R,b as D,u as g}from"./DFNinwmQ.js";import{_ as E}from"./BFoX2DZH.js";import{b as F}from"./VFHF4aMW.js";import{n as M,G as T,v,o as _,c as m,b,a as o,F as x,s as k,x as i,t as l,w as j,d as P,H as V,p as Y,e as A,_ as L}from"./Bu49cigl.js";const I=u=>(Y("data-v-2a918895"),u=u(),A(),u),q={class:"project-container"},z={class:"breadcrumbs"},K={class:"breadcrumb"},Q=I(()=>o("p",{style:{margin:"0","margin-inline":"5px"}}," > ",-1)),U={style:{margin:"0"}},W={id:"project-texts"},X={style:{color:"var(--header-button-color)"}},Z={style:{"font-size":"80%"}},ee={id:"leader"},te={id:"leader-left"},oe=["src","alt"],se={style:{width:"70%"}},ae={id:"more"},re=I(()=>o("h2",{style:{color:"var(--header-button-color)","text-decoration":"none"}},"MORE PROJECTS",-1)),ie={id:"projects"},ne={class:"violet-text"},ce=["src","alt"],le=M({__name:"[id]",async setup(u){let r,d;const f=T().params.id,p=F(),S="/projects/"+f;S!==p.value[p.value.length-1]&&p.value.push(S);let{data:N}=([r,d]=v(()=>g("/api/people","$KgGOI3QGxW")),r=await r,d(),r),{data:$}=([r,d]=v(()=>g("/api/projects","$ebG6aysTeJ")),r=await r,d(),r),{data:O}=([r,d]=v(()=>g("/api/services","$rvSa1vPDUq")),r=await r,d(),r);const y=H(JSON.parse(N.value.people)),n=R(JSON.parse($.value.projects)),J=D(JSON.parse(O.value.services));let c;for(let s of n)s.id.toString()===f&&(c=s);let h;for(let s of y)s.id===c.leader&&(h=s);const B=`background-image: url('/HYP/image/projects/${f}.jpg');')`;function w(s){let e=s.split(" ");if(e.length>1)switch(e[0]){case"people":for(let t of y)if(t.id.toString()===e[1])return t.name;break;case"projects":for(let t of n)if(t.id.toString()===e[1])return t.name;break;case"services":for(let t of J)if(t.id.toString()===e[1])return t.name}return s}function C(){let s;if(n.length<4)s=n;else{let e=Array.from({length:n.length},(t,a)=>a);for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}s=[n[e[0]],n[e[1]],n[e[2]],n[e[3]]]}for(let e in s)s[e].id.toString()===c.id.toString()&&s.splice(parseInt(e,10),1);return s.slice(0,3)}return(s,e)=>{const t=G;return _(),m(x,null,[b(E),o("div",q,[o("div",z,[(_(!0),m(x,null,k(i(p).slice(0,-1),a=>(_(),m("div",K,[b(t,{to:a,style:{margin:"0","text-decoration":"underline",color:"#999999"},tabindex:"0"},{default:j(()=>[P(l(w(a.replace(/^\/|\/$/g,"").replace(/\//g," "))),1)]),_:2},1032,["to"]),Q]))),256)),o("p",U,l(w(i(p).at(-1).replace(/^\/|\/$/g,"").replace(/\//g," "))),1)]),o("div",{id:"project",style:B},[o("div",W,[o("h2",X,l(i(c).name),1),o("p",Z,l(i(c).description),1)])]),o("div",ee,[o("div",te,[o("img",{id:"leader-image",src:"/HYP/image/people/"+i(c).id+".jpg",alt:"photo of the leader of project "+i(c).name+", "+i(h).name},null,8,oe),o("h2",null,l(i(h).name),1),b(t,{to:"/people/"+i(c).leader,class:"read-more",tabindex:"0"},{default:j(()=>[P("Read more")]),_:1},8,["to"])]),o("p",se,l(i(c).longDes),1)]),o("div",ae,[re,o("div",ie,[(_(!0),m(x,null,k(C(),a=>(_(),V(t,{key:a.id,class:"project-card",to:"/projects/"+a.id,tabindex:"0"},{default:j(()=>[o("h2",ne,l(a.name),1),o("p",null,l(a.description),1),o("img",{class:"project-thumb",src:"/HYP/image/projects/"+a.id+".jpg",alt:"Photo of "+a.name},null,8,ce)]),_:2},1032,["to"]))),128))])])])],64)}}}),fe=L(le,[["__scopeId","data-v-2a918895"]]);export{fe as default};
